<%- include('partials/prologue.ejs', {title: `${profile.name} MBTI | Boo Personality Database`, description: `What is ${profile.name}'s MBTI personality type? Find out what ${profile.name}'s Myers Briggs, Enneagram, and Zodiac sign are in the Soulverse, the MBTI personality database of celebrities and fictional characters.`}) %>

                <div class="row sqs-row">
                  <%- include('partials/categories.ejs') %>
                  <div class="col sqs-col-10 sqs-col-page">
                    <div class="sqs-block html-block sqs-block-html" data-block-type="2" id="block-2e6206ba777e9c6841a8">
                      <div class="sqs-block-content">
                        <h2 class="name"><%= profile.name %> <span style="color: #4edcd8; font-weight: bold">MBTI</span>
                        </h2>
                      </div>
                    </div>
                    <div class="row sqs-row">
                      <div class="col sqs-col-photo">
                        <div class="sqs-block image-block sqs-block-image" data-aspect-ratio="136.28691983122363" data-block-type="5" id="block-1f47fbbe7cae8fdeba8c">
                          <div class="sqs-block-content">
                            <div class="image-block-outer-wrapper layout-caption-below design-layout-inline combination-animation-site-default individual-animation-site-default individual-text-animation-site-default" data-test="image-block-inline-outer-wrapper">
                              <noscript>
                                <img class="picture" src="<%= profile.image %>" alt="<%= profile.image %>" />
                              </noscript>
                              <img class="thumb-image picture" data-src="<%= profile.image %>" data-image="<%= profile.image %>" data-image-dimensions="" data-image-focal-point="0.5,0.5" alt="<%= profile.image %>" data-load="false" data-image-id="60ba7def6ab3a1722eeb654b" data-type="image" />
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col sqs-col-trait">
                        <div class="row sqs-row">
                          <div class="col sqs-col-sub-trait">
                            <div class="trait">
                              <p class="center" style="height: 25%; line-height: 1">MBTI</p>
                              <p class="trait-font center" style="height: 40%"><%= profile.mbti %></p>
                            </div>
                          </div>
                          <div class="col sqs-col-sub-trait">
                            <div class="trait">
                              <p class="center" style="height: 25%; line-height: 1">Enneagram</p>
                              <p class="trait-font center" style="height: 40%"><%= profile.enneagram %></p>
                            </div>
                          </div>
                          <div class="col sqs-col-sub-trait">
                            <div class="trait">
                              <p class="center" style="height: 25%; line-height: 1">Socionics</p>
                              <p class="trait-font center" style="height: 40%"><%= profile.socionics %></p>
                            </div>
                          </div>
                          <div class="col sqs-col-sub-trait">
                            <div class="trait">
                              <p class="center" style="height: 25%; line-height: 1">Big 5 Sloan</p>
                              <p class="trait-font center" style="height: 40%"><%= profile.sloan %></p>
                            </div>
                          </div>
                          <div class="col sqs-col-sub-trait">
                            <div class="trait">
                              <p class="center" style="height: 25%; line-height: 1">Instinctual Variant</p>
                              <p class="trait-font center" style="height: 40%"><%= profile.variant %></p>
                            </div>
                          </div>
                          <div class="col sqs-col-sub-trait">
                            <div class="trait">
                              <p class="center" style="height: 25%; line-height: 1">Tritype</p>
                              <p class="trait-font center" style="height: 40%"><%= profile.tritype %></p>
                            </div>
                          </div>
                          <div class="col sqs-col-sub-trait">
                            <div class="trait">
                              <p class="center" style="height: 25%; line-height: 1">Attitudinal Psyche</p>
                              <p class="trait-font center" style="height: 40%"><%= profile.psyche %></p>
                            </div>
                          </div>
                          <div class="col sqs-col-sub-trait">
                            <div class="trait" style="width: 100%">
                              <p class="center" style="height: 25%; line-height: 1">Temperament</p>
                              <!-- <div class="trait-font-special center" style="height: 40%"><%= profile.temperaments %></div> -->
                              <!-- <div class="trait-font-special center" ><%= profile.temperaments %></div> -->
                              <p class="trait-font center" style="height: 40%"><%= profile.temperaments %></p>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="sqs-block html-block sqs-block-html" data-block-type="2" id="block-8d8156722d8e328e16b8">
                      <div class="sqs-block-content">
                        <p class="" style="white-space:pre-wrap;"><%= profile.description %>
                        </p>
                      </div>
                    </div>
                    <!-- comment -->
                    <div class="sqs-block html-block sqs-block-html" data-block-type="2" id="block-2e6206ba777e9c6841a8">
                      <div class="sqs-block-content">
                        <div class="flex flex-space-between">
                          <h2 class="name">Comment</h2>
                          <button type="button" class="btn btn-comment" onclick="showComment()">VOTE/COMMENT</button>
                        </div>
                        <div class="comment-filter">
                          <a href="#" class="filter-item active" onclick="showComment()">All</a>
                          <a href="#" class="filter-item" onclick="filterComment('mbti')">MBTI</a>
                          <a href="#" class="filter-item" onclick="filterComment('enneagram')">Enneagram</a>
                          <a href="#" class="filter-item" onclick="filterComment('zodiac')">Zodiac</a>
                        </div>
                        <div class="comment-sorting">
                          <button type="button" class="btn sorting-item active">best</button>
                          <button type="button" class="btn sorting-item">recent</button>
                        </div>
                        <div class="input-comment" id="inputComment">
                          <div class="comment-info">
                            <img class="comment-picture" src="<%= profile.image %>" alt="<%= profile.image %>" />
                            <p class="comment-name">markdrake</p>
                          </div>
                          <div class="comment-title">
                            <input type="text" placeholder="Title" id="commentTitle">
                          </div>
                          <div class="comment-voting">
                            <div class="dropdown" style="width: 123px;">
                              <button class="btn dropdown-btn" id="mbti" onclick="selectingMbti('MBTI')">MBTI</button>
                              <div class="dropdown-content">
                                <% mbti.forEach(function(m) { %>
                                <button class="btn dropdown-content-btn"onclick="selectingMbti('<%= m %>')"><%= m %></button>
                                <% }); %>
                              </div>
                            </div>
                            <div class="dropdown"  style="width: 148px;">
                              <button class="btn dropdown-btn" id="enneagram" onclick="selectingEnneagram('Enneagram')">Enneagram </button>
                              <div class="dropdown-content">
                                <% enneagram.forEach(function(e) { %>
                                  <button class="btn dropdown-content-btn" onclick="selectingEnneagram('<%= e %>')"><%= e %></button>
                                <% }); %>
                              </div>
                            </div>
                            <div class="dropdown"  style="width: 123px;">
                              <button class="btn dropdown-btn" id="zodiac" onclick="selectingZodiac('Zodiac')">Zodiac </button>
                              <div class="dropdown-content">
                                <% zodiac.forEach(function(z) { %>
                                  <button class="btn dropdown-content-btn" onclick="selectingZodiac('<%= z %>')"><%= z %></button>
                                <% }); %>
                              </div>
                            </div>
                          </div>
                          <div class="comment-description">
                            <textarea name="" id="commentDesc" cols="30" rows="4" placeholder="Share your typology reasoning by commenting here"></textarea>
                            <button type="button" class="btn btn-comment" onclick="sendComment()">Send</button>
                          </div>
                        </div>
                      </div>
                    </div>

                    <!-- comment content -->
                    <div id="comments">

                    </div>
                    <!-- <div class="sqs-block html-block sqs-block-html" data-block-type="2" id="block-2e6206ba777e9c6841a8">
                      <div class="sqs-block-content">
                        <div class="input-comment">
                          <div class="comment-info">
                            <img class="comment-picture" src="<%= profile.image %>" alt="<%= profile.image %>" />
                            <p class="comment-name">markdrake</p>
                          </div>
                          <div class="comment-title">
                            <input type="text" placeholder="Title" value="He’s definitely an INTP">
                          </div>
                          <div class="comment-voting">
                            <div class="dropdown" style="width: 123px;">
                              <button class="btn dropdown-btn">MBTI</button>
                            </div>
                            <div class="dropdown"  style="width: 148px;">
                              <button class="btn dropdown-btn">Enneagram </button>
                            </div>
                            <div class="dropdown"  style="width: 123px;">
                              <button class="btn dropdown-btn">Zodiac </button>
                            </div>
                          </div>
                          <div class="comment-description">
                            <p>He thinks about future, Ni. He is productive too, Te. That makes him INTJ ^_^"
                              lmao ok guys sure.
                              Let me make it easy for you guys:
                              The Arguments - Ti vs Te & Ne vs Ni.
                              1 - Ti vs Te:
                              • Ti: Elon wants to create new things that don't exists, no one imagines. He tends to assume that the information he has is true to come to the conclusion.
                              • Te: Te is mostly based on facts & evidence i.e the things which have been working for so long, on the ways everyone can trust/rely on.
                              Elon Musk is an obvious Ti user.
                              2 - Ne vs Ni:
                              • Ne: His ideas are divergent; He does not stick to one idea, he is constantly thinking about other possible outcomes.
                              • Ni: The individual who uses Ni has a clear vision about his idea & decides to follow it right away.
                              ~ Also, some other arguments I have:
                              - INTJs are serious people, INTPs are more flexible i.e Elon Musk is an "easy come, easy go" type of person, His Fe is so obvious, he does not takes jokes or anything personally.
                              - Elon Musk is just a productive INTP who gets things done, that's why people think of him as an INTJ.</p>
                          </div>
                        </div>
                      </div>
                      
                    </div> -->
                    
                  </div>
                </div>
                <script>
                  let currentVote = {};
                  const totalComments = [];
                  const commentSection = document.getElementById('inputComment');
                  const commentTitle = document.getElementById('commentTitle');
                  const commentDesc = document.getElementById('commentDesc');
                  
                  const showComment = () =>{
                    commentSection.style.display = 'block';
                  }
                  const sendComment = () =>{
                    commentSection.style.display = 'none';
                    const title = commentTitle.value;
                    const commentContent = commentDesc.value;
                    totalComments.push({
                      title, currentVote, commentContent
                    });
                    console.log("======== comments ======", totalComments);
                    currentVote = {};
                    commentTitle.value = 'Title';
                    commentDesc.value = 'Please Enter Description!';
                    showAddedComments();
                  }
                  const selectingMbti = (value) => {
                    const mbti = document.getElementById('mbti');
                    mbti.innerHTML = value;
                    currentVote = {...currentVote, mbti:value};
                    console.log(currentVote);
                  }
                  const selectingEnneagram = (value) => {
                    const mbti = document.getElementById('enneagram');
                    mbti.innerHTML = value;
                    currentVote = {...currentVote, enneagram:value};
                    console.log(currentVote);
                  }
                  const selectingZodiac = (value) => {
                    const mbti = document.getElementById('zodiac');
                    mbti.innerHTML = value;
                    currentVote = {...currentVote, zodiac:value};
                    console.log(currentVote);
                  }
                  const showAddedComments = () =>{
                    const comments = document.getElementById('comments');
                    let commentContent = '';
                    totalComments.forEach(comment => {
                      commentContent += `<div class="sqs-block html-block sqs-block-html" data-block-type="2" id="block-2e6206ba777e9c6841a8">
                        <div class="sqs-block-content">
                          <div class="input-comment">
                            <div class="comment-info">
                              <img class="comment-picture" src="https://media.licdn.com/dms/image/D4D35AQHqW-rMDex50Q/profile-framedphoto-shrink_200_200/0/1689940816095?e=1693116000&v=beta&t=1OJ2CNUNm8uM7Hw_9evRHnMKYSOLhN9NS4CTt-eEE0A" alt="" />
                              <p class="comment-name">markdrake</p>
                            </div>
                            <div class="comment-title"><input type="text" placeholder="Title" value=`;
                      commentContent += comment.title + `>
                          </div><div class="comment-voting">`;
                      if(comment?.currentVote?.mbti){
                        commentContent += `<div class="dropdown" style="width: 123px;">
                              <button class="btn dropdown-btn">`+ comment?.currentVote?.mbti +`</button>
                            </div>`
                      }if(comment?.currentVote?.enneagram){
                        commentContent += `<div class="dropdown" style="width: 148;">
                              <button class="btn dropdown-btn">`+ comment?.currentVote?.enneagram +`</button>
                            </div>`
                      }if(comment?.currentVote?.zodiac){
                        commentContent += `<div class="dropdown" style="width: 148;">
                              <button class="btn dropdown-btn">`+ comment?.currentVote?.zodiac +`</button>
                            </div>`
                      }
                      commentContent += `</div>
                          <div class="comment-description"><p>` + comment.commentContent + `</p></div></div></div></div>`;
                    });
                    
                    comments.innerHTML = commentContent;
                  }
                  const filterComment = (value) => {
                    const comments = document.getElementById('comments');
                    let commentContent = '';
                    totalComments.forEach(comment => {
                      if(value === 'mbti' && !!comment?.currentVote?.mbti){
                        commentContent += `<div class="sqs-block html-block sqs-block-html" data-block-type="2" id="block-2e6206ba777e9c6841a8">
                          <div class="sqs-block-content">
                            <div class="input-comment">
                              <div class="comment-info">
                                <img class="comment-picture" src="https://media.licdn.com/dms/image/D4D35AQHqW-rMDex50Q/profile-framedphoto-shrink_200_200/0/1689940816095?e=1693116000&v=beta&t=1OJ2CNUNm8uM7Hw_9evRHnMKYSOLhN9NS4CTt-eEE0A" alt="" />
                                <p class="comment-name">markdrake</p>
                              </div>
                              <div class="comment-title"><input type="text" placeholder="Title" value=`;
                        commentContent += comment.title + `>
                            </div><div class="comment-voting">`;
                        if(comment?.currentVote?.mbti){
                          commentContent += `<div class="dropdown" style="width: 123px;">
                                <button class="btn dropdown-btn">`+ comment?.currentVote?.mbti +`</button>
                              </div>`
                        }if(comment?.currentVote?.enneagram){
                          commentContent += `<div class="dropdown" style="width: 148;">
                                <button class="btn dropdown-btn">`+ comment?.currentVote?.enneagram +`</button>
                              </div>`
                        }if(comment?.currentVote?.zodiac){
                          commentContent += `<div class="dropdown" style="width: 148;">
                                <button class="btn dropdown-btn">`+ comment?.currentVote?.zodiac +`</button>
                              </div>`
                        }
                        commentContent += `</div>
                            <div class="comment-description"><p>` + comment.commentContent + `</p></div></div></div></div>`;
                      }else if(value === 'enneagram' && !!comment?.currentVote?.enneagram){
                        commentContent += `<div class="sqs-block html-block sqs-block-html" data-block-type="2" id="block-2e6206ba777e9c6841a8">
                          <div class="sqs-block-content">
                            <div class="input-comment">
                              <div class="comment-info">
                                <img class="comment-picture" src="https://media.licdn.com/dms/image/D4D35AQHqW-rMDex50Q/profile-framedphoto-shrink_200_200/0/1689940816095?e=1693116000&v=beta&t=1OJ2CNUNm8uM7Hw_9evRHnMKYSOLhN9NS4CTt-eEE0A" alt="" />
                                <p class="comment-name">markdrake</p>
                              </div>
                              <div class="comment-title"><input type="text" placeholder="Title" value=`;
                        commentContent += comment.title + `>
                            </div><div class="comment-voting">`;
                        if(comment?.currentVote?.mbti){
                          commentContent += `<div class="dropdown" style="width: 123px;">
                                <button class="btn dropdown-btn">`+ comment?.currentVote?.mbti +`</button>
                              </div>`
                        }if(comment?.currentVote?.enneagram){
                          commentContent += `<div class="dropdown" style="width: 148;">
                                <button class="btn dropdown-btn">`+ comment?.currentVote?.enneagram +`</button>
                              </div>`
                        }if(comment?.currentVote?.zodiac){
                          commentContent += `<div class="dropdown" style="width: 148;">
                                <button class="btn dropdown-btn">`+ comment?.currentVote?.zodiac +`</button>
                              </div>`
                        }
                        commentContent += `</div>
                            <div class="comment-description"><p>` + comment.commentContent + `</p></div></div></div></div>`;
                      }
                      else if(value === 'zodiac' && !!comment?.currentVote?.zodiac){
                        commentContent += `<div class="sqs-block html-block sqs-block-html" data-block-type="2" id="block-2e6206ba777e9c6841a8">
                          <div class="sqs-block-content">
                            <div class="input-comment">
                              <div class="comment-info">
                                <img class="comment-picture" src="https://media.licdn.com/dms/image/D4D35AQHqW-rMDex50Q/profile-framedphoto-shrink_200_200/0/1689940816095?e=1693116000&v=beta&t=1OJ2CNUNm8uM7Hw_9evRHnMKYSOLhN9NS4CTt-eEE0A" alt="" />
                                <p class="comment-name">markdrake</p>
                              </div>
                              <div class="comment-title"><input type="text" placeholder="Title" value=`;
                        commentContent += comment.title + `>
                            </div><div class="comment-voting">`;
                        if(comment?.currentVote?.mbti){
                          commentContent += `<div class="dropdown" style="width: 123px;">
                                <button class="btn dropdown-btn">`+ comment?.currentVote?.mbti +`</button>
                              </div>`
                        }if(comment?.currentVote?.enneagram){
                          commentContent += `<div class="dropdown" style="width: 148;">
                                <button class="btn dropdown-btn">`+ comment?.currentVote?.enneagram +`</button>
                              </div>`
                        }if(comment?.currentVote?.zodiac){
                          commentContent += `<div class="dropdown" style="width: 148;">
                                <button class="btn dropdown-btn">`+ comment?.currentVote?.zodiac +`</button>
                              </div>`
                        }
                        commentContent += `</div>
                            <div class="comment-description"><p>` + comment.commentContent + `</p></div></div></div></div>`;
                      }
                      
                    });
                    
                    comments.innerHTML = commentContent;
                  }
                </script>
<%- include('partials/epilogue.ejs') %>
